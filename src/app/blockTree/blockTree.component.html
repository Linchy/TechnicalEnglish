<div>
    <button mat-button (click)="newBlock()">Add</button>
    <ul>
        <li *ngFor="let item of state.Blocks; let i = index"  class="block">
            <div>
                <codemirror #editor [value]="item.Content" [config]="config" 
                    (focus)="onFocus(item, i)" (blur)="onBlur(item)" (change)="onChange(item, editor.value)">
                </codemirror>
            </div>
        </li>
    </ul>
</div>